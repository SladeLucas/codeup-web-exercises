<!DOCTYPE html>
<html>
<head>
  <title>Konami Code</title>
  <style>
    h2 {
      color: red;
    }
  </style>
</head>
<body id="populate">
<h1>Konami Code</h1>
<h2><3 <3 <3</h2>
<p id="notebook"></p>
<div id="open"></div>
<button id="reset">reset</button>

<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
<script>
  "use strict";
  //declaring some variables to be used in some function
  let keysPressed = '';
  let i = 0;
  let words = "You want to add some lives?"
  let lives = '<3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3 <3';
  let speed = 80;
  let konami = '3838404037393739666513';
  //the jQuery to make things thing
  $(document).ready(noteBook());

  $(document).keyup(function(event){
    keysPressed += event.keyCode.toString();
    console.log(event.keyCode);
    if (keysPressed.includes(konami)) {
      let imagE = 'img/1up.jpeg';
      $("#populate").css({
        'background-image': 'url('  + imagE + ')',
        'background-size': '800px 600px',
        'background-repeat': 'no-repeat'
      });
      let obj = document.createElement("audio");
      alert("30 lives added.");
      $('p').innerText = lives;
      obj.src = "audio/1up.mp3";
      obj.play();
      keysPressed = '';
      $('h2').text(lives);

    }
  });

  function noteBook() {
    if (i < words.length) {
      if(words.charAt(i) === "?"){
        $("#notebook").append('<span class="hidding">?</span>')
      } else {
        document.getElementById("notebook").innerHTML += words.charAt(i);
      }
      i++;
      setTimeout(noteBook, speed);
    }
  }

  $("#reset").click(function(e){
    location.reload();
  });

  setInterval(function()
  { setTimeout(function() {
    $(".hidding").css("visibility","hidden");
  },500);
    $(".hidding").css("visibility","visible");
  },1000);

</script>
</body>
</html>